{"version":3,"sources":["utils/rem.js","utils/util.js","utils/env.js","utils/request.js","api/index.js","view/secret/components/layout.js","view/secret/components/powerionicsLayout.js","utils/recorder.js","view/secret/write.js","view/secret/check.js","routes/index.js","serviceWorker.js","index.js"],"names":["doc","win","docEl","documentElement","resizeEvt","window","recalc","clientWidth","rem","style","fontSize","addEventListener","document","queryUrlParam","str","name","reg","RegExp","indexOf","r","split","match","setLocal","key","value","localStorage","setItem","getLocal","getItem","removeLocal","removeItem","isWeiXin","navigator","userAgent","toLowerCase","staticHost2ApiHost","localhost","location","hostname","pending","cancelToken","axios","CancelToken","removePending","config","p","u","url","method","f","splice","service","create","baseURL","params","interceptors","request","use","toast_default","a","loading","c","push","error","Promise","reject","response","res","data","hide","console","log","code","info","JSON","stringify","message","saveSecret","token","headers","uploadAudio","file","Content-Type","uploadImage","getCodeUrl","getBgUrl","_default","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this2","search","props","history","pathname","getAuth","getToken","then","setTimeout","redirectUri","encodeURIComponent","concat","href","react_default","createElement","icon_default","type","React","Component","length","bgUrl","rel_image","path","setState","bgStyle","backgroundImage","id","routes","map","route","index","react_router","exact","render","component","assign","Recorder","source","cfg","bufferLen","numChannels","mimeType","recording","callbacks","getBuffer","exportWAV","context","node","createScriptProcessor","createJavaScriptNode","onaudioprocess","e","buffer","channel","inputBuffer","getChannelData","worker","postMessage","command","connect","destination","InlineWorker","sampleRate","recLength","recBuffers","initBuffers","mergeBuffers","result","Float32Array","offset","i","set","writeString","view","string","setUint8","charCodeAt","onmessage","record","interleaved","buffers","inputL","inputR","inputIndex","interleave","dataview","samples","ArrayBuffer","DataView","setUint32","setUint16","output","input","s","Math","max","min","setInt16","floatTo16BitPCM","encodeWAV","audioBlob","Blob","cb","pop","createClass","callback","Error","blob","filename","URL","webkitURL","createObjectURL","link","download","click","createEvent","initEvent","dispatchEvent","WriteSecre","codeLock","codeUrl","img","codeKey","catch","_this$state","audioStatus","recorder","clearTimeout","timer","func","_this$state2","stopRecording","audio_context","AudioContext","webkitAudioContext","getUserMedia","webkitGetUserMedia","mediaDevices","audio","stream","startUserMedia","form","getFieldsValue","reload","validateIdp","rule","date","previewImg","fs","previewFlag","previewImgArr","previewImgIndex","previewClose","onChange","files","formData","FormData","append","imgFileId","onSubmit","validateFields","force","errors","values","x","thumb","mobile","replace","captcha_key","wechat_token","audioBlod","playAudio","addAudioListenner","getElementById","volume","audioPlayStatus","play","pause","disabled","cacheData","parse","objectSpread","createMediaStreamSource","stop","audioUrl","clear","_this3","_this4","_this$state3","_this$props$form","getFieldProps","getFieldError","dist_default","onClose","urls","className","list_default","renderHeader","button_default","size","onClick","src","textarea_item_default","rows","initialValue","say_to_you","rules","required","image_picker_default","onImageClick","selectable","multiple","input_item_default","username","order_code","placeholder","createForm","CheckSecre","check_status","secretInfo","phone","toString","getInfo","rel_thumb","created_at","rel_audio","target","layout","powerionicsLayout","writeSecret","isLocalhost","Boolean","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDom","react_router_dom","querySelector","process","origin","fetch","contentType","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.bec09128.chunk.js","sourcesContent":[";(function(doc, win) {\r\n    var docEl = doc.documentElement,\r\n      resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\r\n      recalc = function() {\r\n        var clientWidth = docEl.clientWidth\r\n        if (!clientWidth) return\r\n        if(clientWidth>800){\r\n          clientWidth = 800\r\n        }\r\n        var rem = clientWidth / 375 * 16\r\n        docEl.style.fontSize = rem + 'px'\r\n      }\r\n    if (!doc.addEventListener) return\r\n    win.addEventListener(resizeEvt, recalc, false)\r\n    doc.addEventListener('DOMContentLoaded', recalc, false)\r\n  })(document, window)","//格式化时间\r\nconst parseTime = (time, cFormat) => {\r\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\r\n  let date\r\n  if (typeof time === 'object') {\r\n    date = time\r\n  } else {\r\n    time = time.replace(/-/g, '/')\r\n    if (('' + time).length === 10) time = parseInt(time) * 1000\r\n    date = new Date(time)\r\n  }\r\n  const formatObj = {\r\n    y: date.getFullYear(),\r\n    m: date.getMonth() + 1,\r\n    d: date.getDate(),\r\n    h: date.getHours(),\r\n    i: date.getMinutes(),\r\n    s: date.getSeconds(),\r\n    a: date.getDay()\r\n  }\r\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\r\n    let value = formatObj[key]\r\n    // Note: getDay() returns 0 on Sunday\r\n    if (key === 'a') { return ['日', '一', '二', '三', '四', '五', '六'][value] }\r\n    if (result.length > 0 && value < 10) {\r\n      value = '0' + value\r\n    }\r\n    return value || 0\r\n  })\r\n  return time_str\r\n}\r\n/**\r\n* 获取queryString*\r\n*/\r\nconst queryUrlParam = (str, name) => {\r\n  var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n  if (str.indexOf('?') >= 0) {\r\n    var r = str.split(\"?\")[1].match(reg);\r\n    if (r != null) return (r[2]);\r\n    return null;\r\n  }\r\n  return null;\r\n}\r\n\r\n\r\n/**\r\n * 本地储存\r\n * @param {*} key \r\n * @param {*} value \r\n */\r\nconst setLocal = (key, value) => {\r\n  return window.localStorage.setItem(key, value)\r\n}\r\n\r\n/**\r\n * 获取本地储存\r\n * @param {*} key \r\n */\r\nconst getLocal = (key) => {\r\n  return window.localStorage.getItem(key)\r\n}\r\n\r\n/**\r\n * 移除某个本地储存\r\n * @param {*} key \r\n */\r\nconst removeLocal = (key) => {\r\n  return window.localStorage.removeItem(key)\r\n}\r\n\r\n\r\n\r\n//判断是否是微信浏览器的函数\r\nconst isWeiXin = () => {\r\n  //window.navigator.userAgent属性包含了浏览器类型、版本、操作系统类型、浏览器引擎类型等信息，这个属性可以用来判断浏览器类型\r\n  let ua = window.navigator.userAgent.toLowerCase();\r\n  //通过正则表达式匹配ua中是否含有MicroMessenger字符串\r\n  if (ua.match(/MicroMessenger/i) == 'micromessenger') {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\nexport {\r\n  parseTime,\r\n  queryUrlParam,\r\n  setLocal,\r\n  getLocal,\r\n  removeLocal,\r\n  isWeiXin\r\n}","export function staticHost2ApiHost() {\r\n    var mHost = window.location.hostname\r\n    return {\r\n        'localhost': 'http://meinvbingyue.vipgz1.idcfengye.com',\r\n    }[mHost] || 'http://meinvbingyue.vipgz1.idcfengye.com'\r\n}","import axios from 'axios'\r\nimport { staticHost2ApiHost } from './env'\r\nimport { Toast } from 'antd-mobile';\r\n// axios.defaults.withCredentials = true;\r\n\r\nlet pending = []; //声明一个数组用于存储每个ajax请求的取消函数和ajax标识\r\nlet cancelToken = axios.CancelToken;\r\nlet removePending = (config) => {\r\n    for(let p in pending){\r\n        if(pending[p].u == config.url + '&' + config.method) { //当当前请求在数组中存在时执行函数体\r\n            pending[p].f(); //执行取消操作\r\n            pending.splice(p, 1); //把这条记录从数组中移除\r\n        }\r\n    }\r\n}\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  baseURL: staticHost2ApiHost(), // api 的 base_url\r\n  // timeout: 5000, // 请求超时时间\r\n  // headers: {\r\n  //   'Content-Type': 'application/json',\r\n  //   'X-Requested-With': 'XMLHttpRequest',\r\n  // },\r\n  params: {}\r\n})\r\n// request拦截器\r\nservice.interceptors.request.use(\r\n  config => {\r\n    Toast.loading('', 0)\r\n    removePending(config); //在一个ajax发送前执行一下取消操作\r\n    config.cancelToken = new cancelToken((c)=>{\r\n        // 这里的ajax标识我是用请求地址&请求方式拼接的字符串，当然你可以选择其他的一些方式\r\n        pending.push({ u: config.url + '&' + config.method, f: c });  \r\n    });\r\n    // Object.assign(config.params,{requestId:new Date().getTime()+''+parseInt(Math.random*1000),appType:20})\r\n    return config\r\n  },\r\n  error => {\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response 拦截器\r\nservice.interceptors.response.use(\r\n  response => {\r\n    let res = response.data;\r\n    Toast.hide()\r\n    console.log(res)\r\n    removePending(response.config);  //在一个ajax响应后再执行一下取消操作，把已经完成的请求从pending中移除\r\n    if (res.code != 0) {\r\n      Toast.info(JSON.stringify(res),1)\r\n      return Promise.reject(res)\r\n    } else {\r\n      return response.data\r\n    }\r\n  },\r\n  error => {\r\n    Toast.hide()\r\n    Toast.info(error.message,1)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n","import request from '@/utils/request'\r\n\r\nconst getSecret = (mobile) => {\r\n  return request({\r\n    url: '/api/speech/info-mobile',\r\n    method: 'get',\r\n    params: {\r\n      mobile\r\n    }\r\n  })\r\n}\r\n\r\n\r\nconst saveSecret = (data, token) => {\r\n  return request({\r\n    url: '/api/speech',\r\n    method: 'post',\r\n    data,\r\n    headers: { 'token': token },\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * 上传语音\r\n * @param {*} data \r\n */\r\nconst uploadAudio = (file) => {\r\n  return request({\r\n    url: '/static/ueditor/1.4.3.3/php/controller.php?action=uploadvideo',\r\n    method: 'post',\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n    data: file\r\n  })\r\n}\r\n\r\n/**\r\n * 上传图片\r\n * @param {*} file \r\n */\r\nconst uploadImage = (file) => {\r\n  return request({\r\n    url: '/static/ueditor/1.4.3.3/php/controller.php?action=uploadimage',\r\n    method: 'post',\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n    data: file\r\n  })\r\n}\r\n\r\n\r\n\r\n/**\r\n * 获取验证码\r\n */\r\nconst getCodeUrl = () => {\r\n  return request({\r\n    url: '/captcha/api',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\n\r\n/**\r\n * 获取背景图片\r\n */\r\nconst getBgUrl = () => {\r\n  return request({\r\n    url: '/api/back-image',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * 获取token\r\n */\r\nconst getToken = (code) => {\r\n  return request({\r\n    url: '/api/wechat-token',\r\n    method: 'get',\r\n    params:{\r\n      code\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport {\r\n  getSecret,\r\n  saveSecret,\r\n  uploadAudio,\r\n  uploadImage,\r\n  getCodeUrl,\r\n  getBgUrl,\r\n  getToken\r\n}","import React from 'react'\r\nimport {Icon} from 'antd-mobile'\r\nimport { queryUrlParam, getLocal, isWeiXin, setLocal } from '@/utils/util'\r\nimport { getToken } from '@/api'\r\nexport default class extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        let code = queryUrlParam(window.location.search, 'code');\r\n        console.log(this.props.history.location)\r\n        console.log(window.location.search)\r\n        console.log(code)\r\n        if (this.props.location.pathname != '/powerionics/check') {\r\n            if (isWeiXin()) {\r\n                //微信浏览器需要跳转授权获取code\r\n                let token = getLocal('_secret_wx_token')\r\n                if (!token) {\r\n                    if (!code) {\r\n                        this.getAuth()\r\n                        return;\r\n                    } else {\r\n                        getToken(code).then(res => {\r\n                            token = res.data\r\n                            setLocal('_secret_wx_token', token)\r\n                            console.log(token)\r\n                            console.log('........token')\r\n                            setTimeout(() => {\r\n                                this.props.history.push('/powerionics/write')\r\n                            }, 100)\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.props.history.push('/powerionics/write')\r\n                }\r\n            } else {\r\n                this.props.history.push('/powerionics/write')\r\n            }\r\n        }\r\n    }\r\n    getAuth() {\r\n        let appid = 'wx3edc25d22618f5e9';\r\n        appid = 'wx77dc39692260dd64'\r\n        let redirectUri = encodeURIComponent('http://meinvbingyue.vipgz1.idcfengye.com/secret/');\r\n        // let paramsCode = queryUrlParam(window.location.search, 'code');\r\n        // let code = sessionStorage.getItem('code')\r\n        // if (!paramsCode && !code) {\r\n            let url = `https://open.weixin.qq.com/connect/oauth2/authorize?appid=${appid}&redirect_uri=${redirectUri}&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect`\r\n            window.location.href = url\r\n        // } else if(!code){\r\n        //     sessionStorage.setItem('code', paramsCode)\r\n        //     window.history.back()\r\n        // }\r\n    }\r\n    render() {\r\n        return <Icon type=\"loading\"></Icon>\r\n    }\r\n}","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport { queryUrlParam, getLocal, isWeiXin } from '@/utils/util'\r\nimport { staticHost2ApiHost } from '@/utils/env'\r\nimport { getBgUrl } from '@/api'\r\nimport '../styles/layout.scss'\r\nimport '../styles/form.scss'\r\n\r\nexport default class extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            bgUrl: ''\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        let bgUrl = queryUrlParam(this.props.history.location.search, 'bg');\r\n        \r\n        if (this.props.location.pathname != '/powerionics/check') {\r\n            if (isWeiXin()) {\r\n                //微信浏览器需要跳转授权获取code\r\n                let token = getLocal('_secret_wx_token')\r\n                if (!token) {\r\n                    this.props.history.push('/')\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (bgUrl) {\r\n            this.setState({\r\n                bgUrl\r\n            })\r\n        } else {\r\n            this.getBgUrl();\r\n        }\r\n\r\n    }\r\n\r\n    getBgUrl = () => {\r\n        getBgUrl().then(res => {\r\n            let data = res.data;\r\n            if (data && data.length != 0) {\r\n                let bgUrl = staticHost2ApiHost() + data[0].rel_image.path;\r\n                this.setState({\r\n                    bgUrl\r\n                })\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { bgUrl } = this.state\r\n        const bgStyle = {\r\n            backgroundImage: `url(${bgUrl})`,\r\n        }\r\n        return (\r\n            bgUrl ? <div id=\"secret-wrap\" style={bgStyle}>\r\n                {\r\n                    this.props.routes.map((route, index) => {\r\n                        return <Route key={index} exact={route.exact} path={route.path} render={props => (\r\n                            <route.component {...props} routes={route.routes} />\r\n                        )} ></Route>\r\n                    })\r\n                }\r\n            </div> : null\r\n        )\r\n    }\r\n}","import InlineWorker from 'inline-worker';\r\n\r\nexport class Recorder {\r\n    config = {\r\n        bufferLen: 4096,\r\n        numChannels: 2,\r\n        mimeType: 'audio/wav'\r\n    };\r\n\r\n    recording = false;\r\n\r\n    callbacks = {\r\n        getBuffer: [],\r\n        exportWAV: []\r\n    };\r\n\r\n    constructor(source, cfg) {\r\n        Object.assign(this.config, cfg);\r\n        this.context = source.context;\r\n        this.node = (this.context.createScriptProcessor ||\r\n        this.context.createJavaScriptNode).call(this.context,\r\n            this.config.bufferLen, this.config.numChannels, this.config.numChannels);\r\n\r\n        this.node.onaudioprocess = (e) => {\r\n            if (!this.recording) return;\r\n\r\n            var buffer = [];\r\n            for (var channel = 0; channel < this.config.numChannels; channel++) {\r\n                buffer.push(e.inputBuffer.getChannelData(channel));\r\n            }\r\n            this.worker.postMessage({\r\n                command: 'record',\r\n                buffer: buffer\r\n            });\r\n        };\r\n\r\n        source.connect(this.node);\r\n        this.node.connect(this.context.destination);    //this should not be necessary\r\n\r\n        let self = {};\r\n        this.worker = new InlineWorker(function () {\r\n            let recLength = 0,\r\n                recBuffers = [],\r\n                sampleRate,\r\n                numChannels;\r\n\r\n            this.onmessage = function (e) {\r\n                switch (e.data.command) {\r\n                    case 'init':\r\n                        init(e.data.config);\r\n                        break;\r\n                    case 'record':\r\n                        record(e.data.buffer);\r\n                        break;\r\n                    case 'exportWAV':\r\n                        exportWAV(e.data.type);\r\n                        break;\r\n                    case 'getBuffer':\r\n                        getBuffer();\r\n                        break;\r\n                    case 'clear':\r\n                        clear();\r\n                        break;\r\n                }\r\n            };\r\n\r\n            function init(config) {\r\n                sampleRate = config.sampleRate;\r\n                numChannels = config.numChannels;\r\n                initBuffers();\r\n            }\r\n\r\n            function record(inputBuffer) {\r\n                for (var channel = 0; channel < numChannels; channel++) {\r\n                    recBuffers[channel].push(inputBuffer[channel]);\r\n                }\r\n                recLength += inputBuffer[0].length;\r\n            }\r\n\r\n            function exportWAV(type) {\r\n                let buffers = [];\r\n                for (let channel = 0; channel < numChannels; channel++) {\r\n                    buffers.push(mergeBuffers(recBuffers[channel], recLength));\r\n                }\r\n                let interleaved;\r\n                if (numChannels === 2) {\r\n                    interleaved = interleave(buffers[0], buffers[1]);\r\n                } else {\r\n                    interleaved = buffers[0];\r\n                }\r\n                let dataview = encodeWAV(interleaved);\r\n                let audioBlob = new Blob([dataview], {type: type});\r\n\r\n                this.postMessage({command: 'exportWAV', data: audioBlob});\r\n            }\r\n\r\n            function getBuffer() {\r\n                let buffers = [];\r\n                for (let channel = 0; channel < numChannels; channel++) {\r\n                    buffers.push(mergeBuffers(recBuffers[channel], recLength));\r\n                }\r\n                this.postMessage({command: 'getBuffer', data: buffers});\r\n            }\r\n\r\n            function clear() {\r\n                recLength = 0;\r\n                recBuffers = [];\r\n                initBuffers();\r\n            }\r\n\r\n            function initBuffers() {\r\n                for (let channel = 0; channel < numChannels; channel++) {\r\n                    recBuffers[channel] = [];\r\n                }\r\n            }\r\n\r\n            function mergeBuffers(recBuffers, recLength) {\r\n                let result = new Float32Array(recLength);\r\n                let offset = 0;\r\n                for (let i = 0; i < recBuffers.length; i++) {\r\n                    result.set(recBuffers[i], offset);\r\n                    offset += recBuffers[i].length;\r\n                }\r\n                return result;\r\n            }\r\n\r\n            function interleave(inputL, inputR) {\r\n                let length = inputL.length + inputR.length;\r\n                let result = new Float32Array(length);\r\n\r\n                let index = 0,\r\n                    inputIndex = 0;\r\n\r\n                while (index < length) {\r\n                    result[index++] = inputL[inputIndex];\r\n                    result[index++] = inputR[inputIndex];\r\n                    inputIndex++;\r\n                }\r\n                return result;\r\n            }\r\n\r\n            function floatTo16BitPCM(output, offset, input) {\r\n                for (let i = 0; i < input.length; i++, offset += 2) {\r\n                    let s = Math.max(-1, Math.min(1, input[i]));\r\n                    output.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\r\n                }\r\n            }\r\n\r\n            function writeString(view, offset, string) {\r\n                for (let i = 0; i < string.length; i++) {\r\n                    view.setUint8(offset + i, string.charCodeAt(i));\r\n                }\r\n            }\r\n\r\n            function encodeWAV(samples) {\r\n                let buffer = new ArrayBuffer(44 + samples.length * 2);\r\n                let view = new DataView(buffer);\r\n\r\n                /* RIFF identifier */\r\n                writeString(view, 0, 'RIFF');\r\n                /* RIFF chunk length */\r\n                view.setUint32(4, 36 + samples.length * 2, true);\r\n                /* RIFF type */\r\n                writeString(view, 8, 'WAVE');\r\n                /* format chunk identifier */\r\n                writeString(view, 12, 'fmt ');\r\n                /* format chunk length */\r\n                view.setUint32(16, 16, true);\r\n                /* sample format (raw) */\r\n                view.setUint16(20, 1, true);\r\n                /* channel count */\r\n                view.setUint16(22, numChannels, true);\r\n                /* sample rate */\r\n                view.setUint32(24, sampleRate, true);\r\n                /* byte rate (sample rate * block align) */\r\n                view.setUint32(28, sampleRate * 4, true);\r\n                /* block align (channel count * bytes per sample) */\r\n                view.setUint16(32, numChannels * 2, true);\r\n                /* bits per sample */\r\n                view.setUint16(34, 16, true);\r\n                /* data chunk identifier */\r\n                writeString(view, 36, 'data');\r\n                /* data chunk length */\r\n                view.setUint32(40, samples.length * 2, true);\r\n\r\n                floatTo16BitPCM(view, 44, samples);\r\n\r\n                return view;\r\n            }\r\n        }, self);\r\n\r\n        this.worker.postMessage({\r\n            command: 'init',\r\n            config: {\r\n                sampleRate: this.context.sampleRate,\r\n                numChannels: this.config.numChannels\r\n            }\r\n        });\r\n\r\n        this.worker.onmessage = (e) => {\r\n            let cb = this.callbacks[e.data.command].pop();\r\n            if (typeof cb == 'function') {\r\n                cb(e.data.data);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    record() {\r\n        this.recording = true;\r\n    }\r\n\r\n    stop() {\r\n        this.recording = false;\r\n    }\r\n\r\n    clear() {\r\n        this.worker.postMessage({command: 'clear'});\r\n    }\r\n\r\n    getBuffer(cb) {\r\n        cb = cb || this.config.callback;\r\n        if (!cb) throw new Error('Callback not set');\r\n\r\n        this.callbacks.getBuffer.push(cb);\r\n\r\n        this.worker.postMessage({command: 'getBuffer'});\r\n    }\r\n\r\n    exportWAV(cb, mimeType) {\r\n        mimeType = mimeType || this.config.mimeType;\r\n        cb = cb || this.config.callback;\r\n        if (!cb) throw new Error('Callback not set');\r\n\r\n        this.callbacks.exportWAV.push(cb);\r\n\r\n        this.worker.postMessage({\r\n            command: 'exportWAV',\r\n            type: mimeType\r\n        });\r\n    }\r\n\r\n    static\r\n    forceDownload(blob, filename) {\r\n        let url = (window.URL || window.webkitURL).createObjectURL(blob);\r\n        let link = window.document.createElement('a');\r\n        link.href = url;\r\n        link.download = filename || 'output.wav';\r\n        let click = document.createEvent(\"Event\");\r\n        click.initEvent(\"click\", true, true);\r\n        link.dispatchEvent(click);\r\n    }\r\n}\r\n\r\nexport default Recorder;\r\n","import React from 'react'\r\nimport { List, InputItem, Toast, Button, ImagePicker, TextareaItem } from 'antd-mobile';\r\nimport { createForm } from 'rc-form';\r\nimport Recorder from '@/utils/recorder';\r\nimport { setLocal, getLocal, removeLocal, isWeiXin } from '@/utils/util'\r\nimport { saveSecret, uploadImage, uploadAudio, getCodeUrl } from '@/api'\r\nimport WxImageViewer from 'react-wx-images-viewer';\r\n\r\nclass WriteSecre extends React.Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      disabled: true,\r\n      files: [],\r\n      imgFileId: null,\r\n      recorder: null,\r\n      audioStatus: 0,\r\n      audioPlayStatus:0,\r\n      previewFlag: false,\r\n      previewImgArr: [],\r\n      previewImgIndex: 0,\r\n      codeUrl: '',\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    let cacheData = getLocal('_secret_');\r\n    if (cacheData) {\r\n      cacheData = JSON.parse(cacheData)\r\n      this.setState({\r\n        ...cacheData\r\n      })\r\n      removeLocal('_secret_')\r\n    }\r\n    clearTimeout(this.timer)\r\n    this.getCodeUrl()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timer)\r\n  }\r\n\r\n\r\n\r\n  getCodeUrl = () => {\r\n    if (!this.codeLock) {\r\n      this.codeLock = true;\r\n      getCodeUrl().then(res => {\r\n        this.codeLock = false\r\n        this.setState({\r\n          codeUrl: res.img,\r\n          codeKey: res.key\r\n        })\r\n      }).catch(e => {\r\n        this.codeLock = false\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  startUserMedia(audio_context, stream, callback) {\r\n    let input = audio_context.createMediaStreamSource(stream);\r\n    this.setState({\r\n      recorder: new Recorder(input)\r\n    }, () => {\r\n      callback && callback()\r\n    })\r\n  }\r\n\r\n  stopRecording() {\r\n    let { recorder } = this.state;\r\n    recorder.stop();\r\n    recorder.exportWAV((blob) => {\r\n      this.setState({\r\n        audioBlod: blob,\r\n        audioUrl: URL.createObjectURL(blob),\r\n        audioStatus: 2\r\n      })\r\n    });\r\n\r\n    recorder.clear();\r\n  }\r\n\r\n  record = () => {\r\n    let { audioStatus, recorder } = this.state;\r\n    clearTimeout(this.timer)\r\n\r\n    const func = () => {\r\n      let { audioStatus, recorder } = this.state;\r\n      if (audioStatus == 0 || audioStatus == 2) {\r\n        this.setState({\r\n          audioStatus: 1\r\n        })\r\n        recorder.record();\r\n        clearTimeout(this.timer)\r\n        this.timer = setTimeout(() => {\r\n          this.stopRecording()\r\n        }, 30000)\r\n      } else if (audioStatus == 1) {\r\n        this.stopRecording()\r\n      }\r\n    }\r\n\r\n    if (audioStatus == 0 && !recorder) {\r\n      let audio_context = null\r\n      try {\r\n        // webkit shim\r\n        window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia;\r\n        window.URL = window.URL || window.webkitURL;\r\n\r\n        audio_context = new AudioContext;\r\n        navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {\r\n          removeLocal('_secret_')\r\n          this.startUserMedia(audio_context, stream, func)\r\n        }).catch(e => {\r\n          setLocal('_secret_', JSON.stringify(this.props.form.getFieldsValue()))\r\n          window.location.reload();\r\n        });\r\n      } catch (e) {\r\n        Toast.info('该浏览器不支持录音,请用其他浏览器打开')\r\n      }\r\n\r\n    } else {\r\n      func()\r\n    }\r\n\r\n  }\r\n\r\n  validateIdp = (rule, date, callback) => {\r\n    if (date == 1) {\r\n      callback(new Error('Invalid Date'));\r\n    } else {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  previewImg = (fs) => {\r\n    this.setState({\r\n      previewFlag: true,\r\n      previewImgArr: [fs[0].url],\r\n      previewImgIndex: 0\r\n    })\r\n  }\r\n\r\n  previewClose = () => {\r\n    this.setState({\r\n      previewFlag: false\r\n    })\r\n  }\r\n\r\n  onChange = (files, type, index) => {\r\n    if (files.length != 0) {\r\n      let file = files[0].file;\r\n      let formData = new FormData();\r\n      formData.append('upfile', file)\r\n      uploadImage(formData).then(data => {\r\n        this.setState({\r\n          files,\r\n          imgFileId: data.id\r\n        });\r\n      })\r\n    } else {\r\n      this.setState({\r\n        files,\r\n        imgFileId: null\r\n      });\r\n    }\r\n  }\r\n\r\n  onSubmit = () => {\r\n    this.props.form.validateFields({ force: true }, (errors, values) => {\r\n      if (!errors) {\r\n        let token = getLocal('_secret_wx_token');\r\n        console.log(token)\r\n        console.log('token//////////////////////')\r\n        if (this.state.imgFileId) {\r\n          values.thumb = this.state.imgFileId\r\n        }else{\r\n          values.thumb = 0\r\n        }\r\n        values.mobile = values.mobile.replace(/\\s*/g, '');\r\n        values.captcha_key = this.state.codeKey\r\n        if(token){\r\n          values.wechat_token = token\r\n        }\r\n        let func = (values) => {\r\n          saveSecret(values).then(res => {\r\n            this.props.history.push(`/powerionics/check?phone=${values.mobile}`)\r\n          })\r\n        }\r\n\r\n        if (this.state.audioBlod) {\r\n          let formData = new FormData();\r\n          formData.append('upfile', this.state.audioBlod, 'test.wav')\r\n          uploadAudio(formData).then(data => {\r\n            values.audio = data.id\r\n            func(values)\r\n          })\r\n        } else {\r\n          values.audio = 0\r\n          func(values)\r\n        }\r\n\r\n      } else {\r\n        for (let x in errors) {\r\n          let error = errors[x];\r\n          Toast.info(error.errors[0].message)\r\n          return\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  \r\n  addAudioListenner() {\r\n    let audio = document.getElementById('_audio')\r\n    if(audio){\r\n      audio.addEventListener('ended', () => {\r\n        this.setState({\r\n          audioPlayStatus: 3\r\n        })\r\n      }, false)\r\n    }\r\n  }\r\n\r\n\r\n  playAudio = () => {\r\n    this.addAudioListenner()\r\n    let audio = document.getElementById('_audio')\r\n    audio.volume = 1;\r\n    let { audioPlayStatus } = this.state\r\n    if (audioPlayStatus == 0) {\r\n      audio.play()\r\n      this.setState({\r\n        audioPlayStatus: 1\r\n      })\r\n    } else if (audioPlayStatus == 1) {\r\n      this.setState({\r\n        audioPlayStatus: 2\r\n      })\r\n      audio.pause()\r\n    } else if (audioPlayStatus == 2) {\r\n      audio.play()\r\n      this.setState({\r\n        audioPlayStatus: 1\r\n      })\r\n    } else if (audioPlayStatus == 3) {\r\n      audio.play()\r\n      this.setState({\r\n        audioPlayStatus: 1\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { files, audioStatus, audioUrl, previewFlag, previewImgArr, previewImgIndex, audioPlayStatus } = this.state\r\n    const { getFieldProps, getFieldError } = this.props.form;\r\n\r\n    return (\r\n      <div>\r\n        {\r\n          previewFlag ? <WxImageViewer onClose={this.previewClose} urls={previewImgArr} index={previewImgIndex} /> : null\r\n        }\r\n        <form className=\"secret-wirte-form\">\r\n          <List className=\"no-bg flex-wrap\" renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">录制语音：</p>\r\n                <p>限30秒</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <div className=\"audio-wrap\">\r\n              <Button size=\"small\" type=\"primary\" onClick={this.record}>{audioStatus == 0 ? '开始' : (audioStatus == 1 ? '结束' : '重录')}</Button>\r\n              {\r\n                audioUrl ? <span className={audioPlayStatus == 1 ? 'start' : 'end'} onClick={this.playAudio}></span> : null\r\n              }\r\n              {\r\n                audioUrl ? <audio id=\"_audio\" src={audioUrl}></audio> : null\r\n              }\r\n            </div>\r\n          </List>\r\n          <List renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">我想对您说：</p>\r\n                <p>填写您想对TA说的话，不限字数</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <TextareaItem\r\n              rows=\"2\"\r\n              {...getFieldProps('say_to_you', {\r\n                initialValue: this.state.say_to_you,\r\n                rules: [\r\n                  { required: true, message: '请输入对TA说的话' },\r\n                ],\r\n              })}\r\n            ></TextareaItem>\r\n          </List>\r\n\r\n          <List className=\"no-bg bg-list\" renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">永恒一刻：</p>\r\n                <p>选填项！上传您想分享的图片，可选择上传或不上传！</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <ImagePicker\r\n              files={files}\r\n              onChange={this.onChange}\r\n              onImageClick={(index, fs) => this.previewImg(fs)}\r\n              selectable={files.length < 1}\r\n              multiple={false}\r\n            />\r\n          </List>\r\n\r\n          <List renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">送卡人姓名/昵称：</p>\r\n                <p>选填项！如果您不想让对方知道是谁，可不填！</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <InputItem\r\n              {...getFieldProps('username', {\r\n                initialValue: this.state.username\r\n              })}\r\n            ></InputItem>\r\n\r\n          </List>\r\n\r\n          <List renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">powerionics淘宝或京东订单编号：</p>\r\n                <p>可在您的淘宝京东订单内查询复制！</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <InputItem\r\n              {...getFieldProps('order_code', {\r\n                initialValue: this.state.order_code,\r\n                rules: [\r\n                  { required: true, message: '请输入订单编号' }\r\n                ],\r\n              })}\r\n            ></InputItem>\r\n          </List>\r\n\r\n          <List renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">手机号码：</p>\r\n                <p>必填项！请填写收卡人的手机号，此手机号即为对方查询留言的唯一密码，请核对无误！</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <InputItem\r\n              type=\"phone\"\r\n              placeholder=\"对方手机号码\"\r\n              {...getFieldProps('mobile', {\r\n                initialValue: this.state.mobile,\r\n                rules: [\r\n                  { required: true, message: '请输入对方手机号码' },\r\n                ]\r\n              })}\r\n            ></InputItem>\r\n          </List>\r\n\r\n          <List className=\"no-bg\" renderHeader={() => {\r\n            return (\r\n              <div>\r\n                <p className=\"label\">验证码：</p>\r\n              </div>\r\n            )\r\n          }}>\r\n            <div className=\"code-wrap\">\r\n              <InputItem\r\n                placeholder=\"\"\r\n                {...getFieldProps('captcha_val', {\r\n                  initialValue: this.state.code,\r\n                  rules: [\r\n                    { required: true, message: '请输入验证码' },\r\n                  ],\r\n                })}\r\n              ></InputItem>\r\n              <div className=\"\">\r\n                <img className=\"codeImg\" onClick={this.getCodeUrl} src={this.state.codeUrl}></img>\r\n              </div>\r\n            </div>\r\n          </List>\r\n\r\n          <Button className=\"fixed-bottom-btn\" type=\"primary\" onClick={this.onSubmit}>提交</Button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default createForm()(WriteSecre)","import React from 'react'\r\nimport { InputItem, Toast, Button } from 'antd-mobile';\r\nimport { createForm } from 'rc-form';\r\nimport { queryUrlParam } from '@/utils/util'\r\nimport { getSecret } from '@/api'\r\nimport WxImageViewer from 'react-wx-images-viewer';\r\nimport { staticHost2ApiHost } from '@/utils/env'\r\n\r\nclass CheckSecre extends React.Component {\r\n  state = {\r\n    check_status: 'off',\r\n    audioUrl: '',\r\n    audioStatus: 0,\r\n    secretInfo: {},\r\n    previewFlag: false,\r\n    previewImgArr: [],\r\n    previewImgIndex: 0\r\n  }\r\n\r\n  componentWillMount() {\r\n    let phone = queryUrlParam(this.props.history.location.search, 'phone')\r\n    if (phone) {\r\n      this.getInfo(phone)\r\n    }\r\n  }\r\n\r\n\r\n  getInfo(phone) {\r\n    getSecret(phone).then(res => {\r\n      this.setState({\r\n        check_status: 'on',\r\n        secretInfo: res.data\r\n      },() => {\r\n        this.addAudioListenner()\r\n      })\r\n    })\r\n  }\r\n\r\n  onSubmit = () => {\r\n    this.props.form.validateFields({ force: true }, (errors, values) => {\r\n      if (!errors) {\r\n        // this.setState({\r\n        //   check_status: 'on'\r\n        // })\r\n        values.phone = values.phone.toString().replace(/\\s*/g, '')\r\n        this.getInfo(values.phone)\r\n      } else {\r\n        for (let x in errors) {\r\n          let error = errors[x];\r\n          Toast.info(error.errors[0].message)\r\n          return\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.addAudioListenner()\r\n  }\r\n\r\n\r\n  addAudioListenner() {\r\n    let audio = document.getElementById('my_audio')\r\n    if(audio){\r\n      audio.addEventListener('ended', () => {\r\n        this.setState({\r\n          audioStatus: 3\r\n        })\r\n      }, false)\r\n    }\r\n  }\r\n\r\n  playAudio = () => {\r\n    let audio = document.getElementById('my_audio')\r\n    audio.volume = 1;\r\n    let { audioStatus } = this.state\r\n    if (audioStatus == 0) {\r\n      audio.play()\r\n      this.setState({\r\n        audioStatus: 1\r\n      })\r\n    } else if (audioStatus == 1) {\r\n      this.setState({\r\n        audioStatus: 2\r\n      })\r\n      audio.pause()\r\n    } else if (audioStatus == 2) {\r\n      audio.play()\r\n      this.setState({\r\n        audioStatus: 1\r\n      })\r\n    } else if (audioStatus == 3) {\r\n      audio.play()\r\n      this.setState({\r\n        audioStatus: 1\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n\r\n  previewImg = () => {\r\n    this.setState({\r\n      previewFlag: true,\r\n      previewImgArr: [staticHost2ApiHost() +this.state.secretInfo.rel_thumb.path],\r\n      previewImgIndex: 0\r\n    })\r\n  }\r\n\r\n  previewClose = () => {\r\n    this.setState({\r\n      previewFlag: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let { check_status, audioStatus, secretInfo, previewFlag, previewImgArr, previewImgIndex } = this.state;\r\n    let { created_at, say_to_you, rel_thumb, rel_audio, username } = secretInfo\r\n    const { getFieldProps } = this.props.form;\r\n    return (\r\n      <div className=\"secret-check-wrap\">\r\n        {\r\n          previewFlag ? <WxImageViewer onClose={this.previewClose} urls={previewImgArr} index={previewImgIndex} /> : null\r\n        }\r\n        {\r\n          check_status === 'off' ? <div className=\"secret-check-form-wrap\">\r\n            <div className=\"tip\">\r\n              <p>您的朋友随礼物还给您留了一段私言密语，您的手机号是查询留言的密码！</p>\r\n              <p>请输入您的手机号码查看TA为您留下的私言密语......</p>\r\n            </div>\r\n            <form className=\"secret-check-form\">\r\n              <InputItem\r\n                type=\"phone\"\r\n                {...getFieldProps('phone', {\r\n                  initialValue: this.state.phone,\r\n                  rules: [\r\n                    { required: true, message: '请输入手机号码' },\r\n                  ],\r\n                })}\r\n              >手机号码：</InputItem>\r\n              <Button className=\"search-btn\" size=\"small\" type=\"primary\" onClick={this.onSubmit}>查询</Button>\r\n            </form>\r\n          </div> : <div className=\"result\">\r\n              {\r\n                rel_audio ? <div className=\"item audio-item\">\r\n                  <p className=\"label\">语音消息：</p>\r\n                  <p className=\"content light\">\r\n                    <Button onClick={this.playAudio} className={(audioStatus == 1 ? 'start':'end')}></Button>\r\n                    <audio id=\"my_audio\" src={staticHost2ApiHost() + rel_audio.path}></audio>\r\n                  </p>\r\n                </div> : null\r\n              }\r\n              <div className=\"item\">\r\n                <p className=\"label\">我想对您说：</p>\r\n                <p className=\"content light\">{say_to_you}</p>\r\n              </div>\r\n              {\r\n                rel_thumb ? <div className=\"item\">\r\n                  <p className=\"label\">永恒一刻：</p>\r\n                  <p className=\"content\">\r\n                    <img onClick={this.previewImg} src={staticHost2ApiHost() + rel_thumb.path} />\r\n                  </p>\r\n                </div> : null\r\n              }\r\n              <div className=\"item\">\r\n                <p className=\"label\">送卡人姓名/昵称：</p>\r\n                <p className=\"content\">{username}</p>\r\n              </div>\r\n              <div className=\"item\">\r\n                <p className=\"label\">提交时间：</p>\r\n                <p className=\"content\">{created_at}</p>\r\n              </div>\r\n\r\n              <a className=\"url-btn\" href=\"//www.baidu.com\" target=\"_blank\">我也要挑选礼物送TA</a>\r\n            </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default createForm()(CheckSecre)","import layout from '../view/secret/components/layout'\r\nimport powerionicsLayout from '../view/secret/components/powerionicsLayout'\r\nimport writeSecret from '../view/secret/write'\r\nimport checkSecret from '../view/secret/check'\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        component: layout,\r\n        exact:true\r\n    },\r\n    {\r\n        path: '/powerionics',\r\n        component: powerionicsLayout,\r\n        routes: [\r\n            {\r\n                path: '/powerionics/write',\r\n                component: writeSecret\r\n            },\r\n            {\r\n                path: '/powerionics/check',\r\n                component: checkSecret\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\nexport default routes\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDom from 'react-dom'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport routes from './routes/index'\nimport * as serviceWorker from './serviceWorker';\nimport '@/utils';\nimport '@/assets/styles/index.scss'\n\nReactDom.render((\n    <Router>\n            {\n                routes.map((route, index) => {\n                    return <Route key={index} exact={route.exact} path={route.path} render={props => (\n                        <route.component {...props} routes={route.routes} />\n                    )}></Route>\n                })\n            }\n    </Router>\n), document.querySelector('#root'))\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();"],"sourceRoot":""}