{"version":3,"sources":["assets/images/bg.jpg","utils/rem.js","utils/util.js","view/secret/components/layout.js","view/secret/write.js","view/secret/check.js","routes/index.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","doc","win","docEl","documentElement","resizeEvt","window","recalc","clientWidth","rem","style","fontSize","addEventListener","document","queryUrlParam","str","name","reg","RegExp","indexOf","r","split","match","_default","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","bgUrl","props","history","location","search","setState","testBg","getBgUrl","getAuth","bgStyle","backgroundImage","concat","react_default","a","createElement","id","routes","map","route","index","react_router","key","exact","path","render","component","assign","React","Component","WriteSecre","disabled","files","validateIdp","rule","date","callback","Error","onChange","type","console","log","onSubmit","form","validateFields","force","errors","values","x","error","toast_default","info","message","push","phone","_this$props$form","getFieldProps","getFieldError","className","list_default","renderHeader","textarea_item_default","rows","initialValue","test1","rules","required","image_picker_default","onImageClick","fs","selectable","length","multiple","input_item_default","idt","validator","test2","placeholder","button_default","onClick","createForm","CheckSecre","check_status","getInfo","size","src","layout","writeSecret","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDom","react_router_dom","querySelector","URL","process","href","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f61c1a90.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.b1a2b9fa.jpg\";",";(function(doc, win) {\r\n    var docEl = doc.documentElement,\r\n      resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\r\n      recalc = function() {\r\n        var clientWidth = docEl.clientWidth\r\n        if (!clientWidth) return\r\n        if(clientWidth>800){\r\n          clientWidth = 800\r\n        }\r\n        var rem = clientWidth / 375 * 16\r\n        docEl.style.fontSize = rem + 'px'\r\n      }\r\n    if (!doc.addEventListener) return\r\n    win.addEventListener(resizeEvt, recalc, false)\r\n    doc.addEventListener('DOMContentLoaded', recalc, false)\r\n  })(document, window)","//格式化时间\r\nexport function parseTime(time, cFormat) {\r\n  if (arguments.length === 0) {\r\n    return null\r\n  }\r\n  const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\r\n  let date\r\n  if (typeof time === 'object') {\r\n    date = time\r\n  } else {\r\n    time = time.replace(/-/g, '/')\r\n    if (('' + time).length === 10) time = parseInt(time) * 1000\r\n    date = new Date(time)\r\n  }\r\n  const formatObj = {\r\n    y: date.getFullYear(),\r\n    m: date.getMonth() + 1,\r\n    d: date.getDate(),\r\n    h: date.getHours(),\r\n    i: date.getMinutes(),\r\n    s: date.getSeconds(),\r\n    a: date.getDay()\r\n  }\r\n  const time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\r\n    let value = formatObj[key]\r\n    // Note: getDay() returns 0 on Sunday\r\n    if (key === 'a') { return ['日', '一', '二', '三', '四', '五', '六'][value] }\r\n    if (result.length > 0 && value < 10) {\r\n      value = '0' + value\r\n    }\r\n    return value || 0\r\n  })\r\n  return time_str\r\n}\r\n/**\r\n* 获取queryString*\r\n*/\r\nexport function queryUrlParam(str,name) {\r\n  var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n  if (str.indexOf('?') >= 0) {\r\n    var r = str.split(\"?\")[1].match(reg);\r\n    if (r != null) return (r[2]);\r\n    return null;\r\n  }\r\n  return null;\r\n}","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport { queryUrlParam } from '@/utils/util'\r\nimport testBg from '@/assets/images/bg.jpg'\r\nimport '../styles/layout.scss'\r\nimport '../styles/form.scss'\r\n\r\nexport default class extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            bgUrl: ''\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        let bgUrl = queryUrlParam(this.props.history.location.search,'bg');\r\n        if(bgUrl){\r\n            this.setState({\r\n                bgUrl:testBg\r\n            })\r\n        }else{\r\n            this.getBgUrl();\r\n        }\r\n\r\n        this.getAuth()\r\n        \r\n    }\r\n    getAuth(){\r\n        \r\n    }\r\n    getBgUrl() {\r\n        this.setState({\r\n            bgUrl: ''\r\n        })\r\n    }\r\n    render() {\r\n        const bgStyle = {\r\n            backgroundImage:`url(${this.state.bgUrl})`,\r\n        }\r\n        return (\r\n            <div id=\"secret-wrap\" style={bgStyle}>\r\n                {\r\n                    this.props.routes.map((route, index) => {\r\n                        return <Route key={index} exact={route.exact} path={route.path} render={props => (\r\n                            <route.component {...props} routes={route.routes} />\r\n                        )} ></Route>\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport { List, InputItem, Toast, Button, ImagePicker, TextareaItem } from 'antd-mobile';\r\nimport { createForm } from 'rc-form';\r\n\r\nclass WriteSecre extends React.Component {\r\n  state = {\r\n    disabled: true,\r\n    files:[]\r\n  }\r\n\r\n  validateIdp = (rule, date, callback) => {\r\n    if (date == 1) {\r\n      callback(new Error('Invalid Date'));\r\n    } else {\r\n      callback();\r\n    }\r\n  }\r\n\r\n  onChange = (files, type, index) => {\r\n    this.setState({\r\n      files,\r\n    });\r\n    console.log(files)\r\n  }\r\n\r\n  onSubmit = () => {\r\n    this.props.form.validateFields({ force: true }, (errors, values) => {\r\n      if (!errors) {\r\n        console.log(values);\r\n        this.props.history.push(`/secret/check?phone=${values.phone}`)\r\n      } else {\r\n        for (let x in errors) {\r\n          let error = errors[x];\r\n          Toast.info(error.errors[0].message)\r\n          return\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { files } = this.state\r\n    const { getFieldProps, getFieldError } = this.props.form;\r\n    return (\r\n      <form className=\"secret-wirte-form\">\r\n        <List renderHeader={() => {\r\n          return (\r\n            <div>\r\n              <p className=\"label\">我想对您说：</p>\r\n              <p>填写您想对TA说的话，不限字数</p>\r\n            </div>\r\n          )\r\n        }}>\r\n          <TextareaItem\r\n            rows=\"3\"\r\n            {...getFieldProps('test1', {\r\n              initialValue: this.state.test1,\r\n              rules: [\r\n                { required: true, message: 'Must input a test1' },\r\n              ],\r\n            })}\r\n          ></TextareaItem>\r\n        </List>\r\n\r\n        <List className=\"no-bg\" renderHeader={() => {\r\n          return (\r\n            <div>\r\n              <p className=\"label\">永恒一刻：</p>\r\n              <p>选填项！上传您想分享的图片，可选择上传或不上传！</p>\r\n            </div>\r\n          )\r\n        }}>\r\n         <ImagePicker\r\n          files={files}\r\n          onChange={this.onChange}\r\n          onImageClick={(index, fs) => console.log(index, fs)}\r\n          selectable={files.length < 1}\r\n          multiple={false}\r\n        />\r\n        </List>\r\n\r\n        <List renderHeader={() => {\r\n          return (\r\n            <div>\r\n              <p className=\"label\">送卡人姓名/昵称：</p>\r\n              <p>选填项！如果您不想让对方知道是谁，可不填！</p>\r\n            </div>\r\n          )\r\n        }}>\r\n          <InputItem\r\n            {...getFieldProps('idp', {\r\n              initialValue: this.state.idt,\r\n              rules: [\r\n                { required: true, message: 'Must select a date' },\r\n                { validator: this.validateIdp }\r\n              ],\r\n            })}\r\n          ></InputItem>\r\n\r\n        </List>\r\n\r\n        <List renderHeader={() => {\r\n          return (\r\n            <div>\r\n              <p className=\"label\">powerionics淘宝或京东订单编号:：</p>\r\n              <p>可在您的淘宝京东订单内查询复制！</p>\r\n            </div>\r\n          )\r\n        }}>\r\n           <InputItem\r\n            {...getFieldProps('test2', {\r\n              initialValue: this.state.test2,\r\n              rules: [\r\n                { required: true, message: 'Must select a date' },\r\n                { validator: this.validateIdp }\r\n              ],\r\n            })}\r\n          ></InputItem>\r\n        </List>\r\n\r\n        <List renderHeader={() => {\r\n          return (\r\n            <div>\r\n              <p className=\"label\">手机号码：</p>\r\n              <p>必填项！请填写收卡人的手机号，此手机号即为对方查询留言的唯一密码，请核对无误！</p>\r\n            </div>\r\n          )\r\n        }}>\r\n          <InputItem\r\n            type=\"phone\"\r\n            placeholder=\"对方手机号码\"\r\n            {...getFieldProps('phone', {\r\n              initialValue: this.state.phone,\r\n              rules: [\r\n                { required: true, message: 'Must input a phone' },\r\n              ],\r\n            })}\r\n          ></InputItem>\r\n        </List>\r\n        \r\n        <Button className=\"fixed-bottom-btn\" type=\"primary\" onClick={this.onSubmit}>提交</Button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default createForm()(WriteSecre)","import React from 'react'\r\nimport { InputItem, Toast, Button } from 'antd-mobile';\r\nimport { createForm } from 'rc-form';\r\nimport { queryUrlParam } from '@/utils/util'\r\n\r\nclass CheckSecre extends React.Component {\r\n  state = {\r\n    check_status:'off'\r\n  }\r\n\r\n  componentWillMount() {\r\n    let phone = queryUrlParam(this.props.history.location.search,'phone')\r\n    if(phone){\r\n      this.getInfo()\r\n    }\r\n  }\r\n\r\n\r\n  getInfo() {\r\n    this.setState({\r\n      check_status: 'on'\r\n    })\r\n  }\r\n\r\n  onSubmit = () => {\r\n    this.props.form.validateFields({ force: true }, (errors,values) => {\r\n      if (!errors) {\r\n        console.log(values);\r\n        this.setState({\r\n          check_status:'on'\r\n        })\r\n      } else {\r\n        for(let x in errors){\r\n          let error = errors[x];\r\n          Toast.info(error.errors[0].message)\r\n          return\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { check_status } = this.state;\r\n    const { getFieldProps } = this.props.form;\r\n    return (\r\n      <div className=\"secret-check-wrap\">\r\n        {\r\n          check_status === 'off' ? <div className=\"secret-check-form-wrap\">\r\n            <div className=\"tip\">\r\n              <p>您的朋友随礼物还给您留了一段私言密语，您的手机号是查询留言的密码！</p>\r\n              <p>请输入您的手机号码查看TA为您留下的私言密语......</p>\r\n            </div>\r\n            <form className=\"secret-check-form\">\r\n                  <InputItem\r\n                      type=\"phone\"\r\n                      {...getFieldProps('phone', {\r\n                        initialValue: this.state.phone,\r\n                        rules: [\r\n                          { required: true, message: '请输入手机号码' },\r\n                        ],\r\n                      })}\r\n                    >手机号码：</InputItem>\r\n                  <Button size=\"small\" type=\"primary\" onClick={this.onSubmit}>查询</Button>\r\n          </form>\r\n          </div>:<div className=\"result\">\r\n              <div className=\"item\">\r\n                <p className=\"label\">我想对您说：</p>\r\n                <p className=\"content light\">我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是我是</p>\r\n              </div>\r\n              <div className=\"item\">\r\n                <p className=\"label\">永恒一刻：</p>\r\n                <p className=\"content\">\r\n                  <img src=\"\" />\r\n                </p>\r\n              </div>\r\n              <div className=\"item\">\r\n                <p className=\"label\">送卡人姓名/昵称：</p>\r\n                <p className=\"content\">fafafafa</p>\r\n              </div>\r\n              <div className=\"item\">\r\n                <p className=\"label\">提交时间：</p>\r\n                <p className=\"content\">2019-06-20 14:03:38</p>\r\n              </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default createForm()(CheckSecre)","import layout from '../view/secret/components/layout'\r\nimport writeSecret from '../view/secret/write'\r\nimport checkSecret from '../view/secret/check'\r\n\r\nconst routes = [\r\n    {\r\n        path: '/secret',\r\n        component: layout,\r\n        routes: [\r\n            {\r\n                path: '/secret/write',\r\n                component: writeSecret\r\n            },\r\n            {\r\n                path: '/secret/check',\r\n                component: checkSecret\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\nexport default routes\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDom from 'react-dom'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport routes from './routes/index'\nimport * as serviceWorker from './serviceWorker';\nimport '@/utils';\nimport '@/assets/styles/index.scss'\n\nReactDom.render((\n    <Router>\n            {\n                routes.map((route, index) => {\n                    return <Route key={index} exact={route.exact} path={route.path} render={props => (\n                        <route.component {...props} routes={route.routes} />\n                    )}></Route>\n                })\n            }\n    </Router>\n), document.querySelector('#root'))\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();"],"sourceRoot":""}